{{page-title "Zittingen"}}

<div class="au-u-flex" style="overflow-y: scroll; width: 100%; height: 100%;">
  <FilterSidebar class="au-u-flex au-u-flex--column">
    <FilterSidebar::SelectFilter
      @id="municipality"
      @label="Gemeente"
      @options={{this.municipalities}}
      @queryParam="gemeentes"
      @placeholder="Selecteer een optie"
      @value={{this.municipality}}
    />
    <FilterSidebar::DateRangeFilter
      @id="startDate"
      @label="Datum"
      @queryParamsA="begin"
      @queryParamsB="eind"
      @valueA={{this.plannedStartMin}}
      @valueB={{this.plannedStartMax}}
    />

  </FilterSidebar>
  <section
    class="au-u-flex au-u-flex--column au-u-padding-top-large"
    style="width: 100%; height: 100%;"
  >

    <InfiniteList
      @loadMore={{action "loadMore"}}
      @isLoading={{this.isLoadingMore}}
    >
      {{#each @model.sessions as |session|}}
        <LinkTo
          @route="sessions.session"
          class="au-u-margin-bottom-small"
          @model={{session.id}}
        >
          <AuCard @size="small" class="card-hover au-u-padding" as |c|>
            <c.header>
              <AuHeading @level="1" @skin="3">
                <AuLink>
                  {{session.name}}
                  {{session.dateRange}}
                </AuLink>
              </AuHeading>
            </c.header>
            <c.footer>
              {{session.municipality}}
              -
              {{session.agendaItemCount}}
            </c.footer>
          </AuCard>
        </LinkTo>
      {{/each}}
    </InfiniteList>
  </section>
</div>
